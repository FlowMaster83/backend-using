{"mappings":"AAAA,MAAMA,EAAaC,SAASC,cAAc,WACpCC,EAAaF,SAASC,cAAc,cAEpCE,GADOH,SAASC,cAAc,YACdD,SAASC,cAAc,uBAE7CF,EAAWK,iBAAiB,SAE5B,WAEED,EAAcE,mBAAmB,YADlB,sC,IAIjBH,EAAWE,iBAAiB,UAE5B,SAAqBE,GACnBA,EAAMC,iBACN,MAAMC,EAAO,IAAIC,SAASH,EAAMI,gBAQlCC,eAA4BC,GAE1B,MAAMC,EAAYD,EAAIE,KAAIH,MAAMI,IAC9B,MAAMC,QAAiBC,MAAM,uCAAuCF,KACpE,IAAKC,EAASE,GACZ,MAAM,IAAIC,MAEZ,OAAOH,EAASI,MAAM,IAGlBZ,QAAaa,QAAQC,WAAWT,GACnBL,EAChBe,QAAO,EAACC,OAAEA,KAAwB,cAAXA,IACvBV,KAAI,EAACW,MAAEA,KAAYA,EAAM,I,CAhB5BC,CAJYlB,EACTmB,OAAO,WACPJ,QAAOR,GAAQA,IACfD,KAAIC,GAAQA,EAAKa,S","sources":["src/task/task.js"],"sourcesContent":["const addCountry = document.querySelector('.js-add');\nconst searchForm = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nconst formContainer = document.querySelector('.js-form-container');\n\naddCountry.addEventListener('click', handlerAddInput);\n\nfunction handlerAddInput() {\n  const markup = `<input type=\"text\" name=\"country\"/>`;\n  formContainer.insertAdjacentHTML('beforeend', markup);\n}\n\nsearchForm.addEventListener('submit', handlerFrom);\n\nfunction handlerFrom(event) {\n  event.preventDefault();\n  const data = new FormData(event.currentTarget);\n  const arr = data\n    .getAll('country')\n    .filter(item => item)\n    .map(item => item.trim());\n  getCountries(arr);\n}\n\nasync function getCountries(arr) {\n  // паралельный запрос\n  const responses = arr.map(async item => {\n    const response = await fetch(`https://restcountries.com/v3.1/name/${item}`);\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  });\n\n  const data = await Promise.allSettled(responses);\n  const countryObj = data\n    .filter(({ status }) => status === 'fulfilled')\n    .map(({ value }) => value[0]);\n\n  return countryObj;\n}\n\nasync function getWeather() {\n  const BASE_URL = 'http://api.weatherapi.com/v1';\n}\n\n// capital, name.official\n// http://api.weatherapi.com/v1\n// current.json\n"],"names":["$511287ff32316ba1$var$addCountry","document","querySelector","$511287ff32316ba1$var$searchForm","$511287ff32316ba1$var$formContainer","addEventListener","insertAdjacentHTML","event","preventDefault","data","FormData","currentTarget","async","arr","responses","map","item","response","fetch","ok","Error","json","Promise","allSettled","filter","status","value","$511287ff32316ba1$var$getCountries","getAll","trim"],"version":3,"file":"index.577acf58.js.map"}