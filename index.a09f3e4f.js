const t=document.querySelector(".js-add"),e=document.querySelector(".js-posts"),n=document.querySelector(".js-form"),o=document.querySelector(".js-error");function r(t){t.preventDefault();const{title:r,body:s}=t.currentTarget.elements,d={title:r.value,body:s.value};(function(t){const e={method:"POST",headres:{"Content-type":"application/json"},body:JSON.stringify(t)};return fetch("https://jsonplaceholder.typicode.com/posts",e).then((t=>{if(!t.ok)throw new Error(t.statusText);return t.json()}))})(d).then((()=>{e.insertAdjacentHTML("beforeend",function({id:t,title:e,body:n}){return`<li data-id="id">\n  <h2>${e}</h2>\n  <p>${n}</p>\n</li>`}(d))})).catch((()=>{o.innerHTML="Can`t add a post"})).finally((()=>{n.innerHTML="",setTimeout((()=>{o.innerHTML=""}),2e3)}))}t.addEventListener("click",(function(){n.innerHTML='\n  <form action="submit" class="js-form-add" style: "style="display: flex; flex-direction: column">\n  <input type="text" name="title" />\n  <textarea name="body" type="text" cols="30" rows="10"></textarea>\n  <button>Add Post</button>\n  </form>';document.querySelector(".js-form-add").addEventListener("submit",r)}));
//# sourceMappingURL=index.a09f3e4f.js.map
